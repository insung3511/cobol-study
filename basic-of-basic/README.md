# 기초 문법
굉장히 *Easy* 하면서도 이걸 *왜..?* 싶은 부분들이 많다. 사실 이 시기에 누가 코볼 공부를 하나 싶어 궁금하긴 하지만 일단 적는다.

일단 COBOL 에서의 DIVISION 와 SECTION 이라는 것에 대해서 좀 더 깊이 있게 공부를 해야한다.

## DIVISION
코볼은 Division 즉, 구역을 나뉜다는 특이한 문법을 갖고 있다. 코볼에는 총 4개의 구역으로 나뉘어져 있다.

- IDENTIFICATION DIVISION
- ENVIRONMENT DIVISION
- DATA DIVISION
- PROCEDURE DIVISION

이렇게 4개가 있다. 이 구역들은 클래스와 인터페이스를 지정하는데에 쓰이게 된다.

__IDENTIFICATION DIVISION__ 같은 경우에는 무조건 적으로 코드의 시작에 작성을 해줘야 한다. 

---

__ENVIRONMENT DIVISION__ 는 시스템에 의존하는 프로그램 기능을 정의한다. 파일과 문자 집합을 들 수 있게 한다.

ENVIRONMENT DIVISION 의 섹션으로는 총 2개가 있다. *CONFIGURATION SECTION*, *INPUT-OUTPUT SECTION* 가 존재한다. 

*CONFIGURATION SECTION* 에는 통화 기호, 문자 집합과 같은 변수 기능들을 지정하는데 활용이 되고 *INPUT-OUTPUT SECTION* 는 파일 관련 정보를 포함한다.

번외로 코볼을 쓰던 당시에는 지금 처럼 USB나 하드디스크, 플로피 디스크(?)와 같은 디스크 형식이 아닌 테이프 형식 이였다. 굉장히 큰 영화 필름 같은 커다란 카세트 테이프...

---

__DATA DIVISION__ 은 변수 등을 생성할 때 쓰이는 구역이다.

DATA DIVISION에는 *WORKING-STORAGE SECTION*, *LINKAGE SECTION*, *REPORT SECTION*, *SCREEN SECTION* 이 있다. 

그리고 코볼의 특이한 데이터 집합 문법이 있다. 그룹화라고 생각을 하면 되는데 줄 번호에 따라 해당 변수의 위치 혹은 계층을 다르게 선언한다. 

계층을 나뉠때에는 번호를 사용하는데 이 부분은 아래 예시 코드를 적으면서 작성하겠다.

```cobol
01  some-record.                   
           05  num            PIC 9(10).  
           05  the-date.                  
               10  the-year   PIC 9(4).   
               10  the-month  PIC 99.     
               10  the-day    PIC 99.     
```
다음과 같은 코드가 있다고 할 때 그룹 항목과 기초 항목에 해당 되는 변수가 존재하게 된다.

some-record의 기초 항목은 num이 된다. 그럼 the-date는 어떻게 되는가? the-date는 the-year, the-month, the-day의 그룹항목이 되고 the-date와 some-record의 기초항목은 the-year, the-month, the-day 라고 생각하면 된다. 

이게 헷갈리면 간단히 디렉토리 구조라고 생각을 하면 쉽게 와닿게 될 거다... 폴더 안에 폴더.. 폴더 안에 파일들.. 이런 느낌..?

여기서 우리는 기초 항목과 그룹 항목을 나눌때 변수 앞에 변수의 줄 번호를 선언하여 해당 변수의 항목을 종속 시켜 주었다.

|숫자|해당 숫자의 역할|
|--|----------|
|01|레코드|
|05|그룹 항목|
|10|기초 항목|

하지만 사실 이렇게 외우는 것을 추천 하지는 못한다. 왜냐하면 반드시 기초 항목이 생성이 되어야 변수를 사용 할 수 있는 것은 아니다. 즉, 레코드(01) 또한 변수로 사용이 될 수 있고 그룹 항목 또한 기초 항목으로 쓰일 수 있다는 것이다.

이 부분 변수 부분에서 더더욱 자세히 다루도록 하겠다.

---

마지막으로 __PROCEDURE DIVISION__ 는 프로그램의 실제 실행문을 담당한다고 생각한다. 대부분의 코드에서 마지막에 쓰이는 Division 이다.

C언어로 따지면 __int main()__ 와 같은 부분이라고 생각하면 될 것 같다. 레이블과 단순한 함수로 사용이 가능한 구역인데 다른 구역들과 달리 섹션 안에 꼭 작성을 할 필요가 없다. 

프로시저 안에서는 프로그램의 통해 종료가 될 때까지 계속 위에서 아래로 코드가 진행이 된다. PERFORM 동사를 활용하면 프로시저를 함수로 쓸수 있다고는 하는데 이게 잘못되면 일종의 *지뢰*를 만들게 된다.

이게 GOTO 함수와 잘 엮어서 쓰면 이전에 이미 연산 처리가 된 함수들 혹은 연산자들 까지 건드리게 되기 때문에 윗 문단에서 아래 부분으로 빠지게 되면서 수행되는 과정 속에서 미정의 동작을 일으키게 된다.

좀 헷갈리기 때문에 천천히 작성하겠다..